{% extends "layout.html" %}
{% block title %}Iniciar Sesión{% endblock %}

{% block content %}
<section class="login_section d-flex align-items-center justify-content-center py-5">
  <div class="login_card p-4 shadow-sm rounded">
    <h2 class="text-center mb-4">Iniciar Sesión</h2>

    {# Mensajes flash #}
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
          <div class="alert alert-{{ category }} text-center">
            {{ msg }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form
      method="POST"
      action="{{ url_for('usuario.login') }}"
      class="form-horizontal m-t-20"
    >
      {{ form.hidden_tag() }}

      <div class="form-group mb-3">
        {{ form.email.label(class="form-label") }}
        {{ form.email }}
      </div>

      <div class="form-group mb-3">
        {{ form.password.label(class="form-label") }}
        {{ form.password }}
      </div>

      <div class="form-group text-center mb-4">
        {{ form.submit }}
      </div>

      <div class="text-link text-center">
        <p>
          ¿No tienes cuenta?
          <a href="{{ url_for('usuario.register') }}">Regístrate</a>
        </p>
        <p>
          ¿Olvidaste tu contraseña?
          <a href="{{ url_for('usuario.recover_password') }}">Recupérala aquí</a>
        </p>
      </div>
    </form>
  </div>
</section>
{% endblock %}

